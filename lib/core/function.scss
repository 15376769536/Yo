@charset "utf-8";
/**
 * Yo框架全局函数
 * Yo内置了一些自定义函数来扩充Sass的函数库，用以增强语法
 */

/**
 * @module core
 * @class List扩展函数
 * @description 返回Sass List中的第一项
 * @function first
 * @param {String} $list 指定一个Sass List
 */
@function first($list) {
    $length: length($list);
    $value: "";

    @if type-of($list) != list {
        @warn "`$list` of `first($list)` must be a list type.";
    } @else if $length == 0 {
        @warn "`$list` of `first($list)` must not be empty.";
    } @else {
        $value: nth($list, 1);
    }

    @return $value;
}

/**
 * @module core
 * @class List扩展函数
 * @description 返回Sass List中的最后一项
 * @function last
 * @param {String} $list 指定一个Sass List
 */
@function last($list) {
    $length: length($list);
    $value: "";

    @if type-of($list) != list {
        @warn "`$list` of `last($list)` must be a list type.";
    } @else if $length == 0 {
        @warn "`$list` of `last($list)` must not be empty.";
    } @else {
        $value: nth($list, -1);
    }

    @return $value;
}

/**
 * @module core
 * @class List扩展函数
 * @description 返回Sass List中的倒数第几项
 * @function last
 * @param {String} $list 指定一个Sass List
 * @param {Integer} $index 指定需要返回的值在list中的倒数位置
 */
@function nth-last($list, $index) {
    $length: length($list);
    $value: "";

    @if type-of($list) != list {
        @warn "$list of `nth-last($list, $index)` must be a list type.";
    } @else if type-of($index) != number {
        @warn "$index of `nth-last($list, $index)` must be a integer.";
    } @else if $index <= 0 {
        @warn "$index of `nth-last($list, $index)` must be a greater than zero integer.";
    } @else if $index > $length {
        @warn "$index is #{$index}, but list length is #{$length}.";
    } @else {
        $value: nth($list, -$index);
    }

    @return $value;
}

/**
 * @module core
 * @class List扩展函数
 * @description 移除Sass List中的某个项目
 * @function remove
 * @param {String} $list 指定一个Sass List
 * @param {String} $value 指定需要被删除的值
 */
@function remove($list, $value) {
    $new-list: ();
    $length: length($list);

    @if type-of($list) != list {
        @warn "$list of `remove($list, $value)` must be a list type.";
    } @else {
        @for $i from 1 through $length {
            @if type-of(nth($list, $i)) == list {
                $new-list: append($new-list, remove(nth($list, $i), $value), list-separator($list));
            } @else if nth($list, $i) != $value {
                $new-list: append($new-list, nth($list, $i), list-separator($list));
            }
        }
    }

    @return $new-list;
}

/**
 * @module core
 * @class List扩展函数
 * @description 移除Sass List中的某个下标项目
 * @function remove
 * @param {String} $list 指定一个Sass List
 * @param {Integer} $index 指定需要移除的值在list中的位置
 */
@function remove-nth($list, $index) {
    $new-list: ();
    $length: length($list);

    @if type-of($list) != list {
        @warn "$list of `remove-nth($list, $index)` must be a list type.";
    } @else if type-of($index) != number {
        @warn "$index of `remove-nth($list, $index)` must be a integer.";
    } @else if $index == 0 {
        @warn "$index of `remove-nth($list, $index)` must be a non-zero integer.";
    } @else if abs($index) > $length {
        @warn "$index is #{$index}, but list length is #{$length}.";
    } @else {
        $index: if($index < 0, $length + $index + 1, $index);
        @for $i from 1 through $length {
            @if $i != $index {
                $new-list: append($new-list, nth($list, $i), list-separator($list));
            }
        }
    }

    @return $new-list;
}

/**
 * @module core
 * @class List扩展函数
 * @description 在Sass List中的某个位置添加新值
 * @function add-nth
 * @param {String} $list 指定一个Sass List
 * @param {String} $value 指定需要添加的值
 * @param {Integer} $index 指定值被添加在list中的位置，当该值为空时默认添加在末尾
 */
@function add-nth($list, $value, $index: length($list) + 1) {
    $new-list: ();
    $length: length($list);

    @if type-of($list) != list {
        @warn "$list of `add-nth($list, $value, $index)` must be a list type.";
    } @else if $index > $length + 1 {
        @warn "$index out of bounds for `add-nth($list, $value, $index)`";
    } @else if $index == $length + 1 {
        $new-list: append($list, $value, list-separator($list));
    } @else {
        $index: if($index < 0, $length + $index + 1, $index);
        @for $i from 1 through $length {
            @if $i != $index {
                $new-list: append($new-list, nth($list, $i), list-separator($list));
            } @else {
                $new-list: append($new-list, $value, list-separator($list));
                $new-list: append($new-list, nth($list, $i), list-separator($list));
            }
        }
    }

    @return $new-list;
}

/**
 * @module core
 * @class List扩展函数
 * @description 替换Sass List中的某个位置的值
 * @function replace-nth
 * @param {String} $list 指定一个Sass List
 * @param {String} $value 指定需要添加的值
 * @param {Integer} $index 指定需要被替换的值在list中的位置
 */
@function replace-nth($list, $value, $index) {
    $new-list: ();
    $length: length($list);

    @if type-of($list) != list {
        @warn "$list of `replace-nth($list, $value, $index)` must be a list type.";
    } @else if $index > $length {
        @warn "$index out of bounds for `replace-nth($list, $value, $index)`";
    } @else {
        $index: if($index < 0, $length + $index + 1, $index);
        @for $i from 1 through $length {
            @if $i == $index {
                $new-list: append($new-list, $value, list-separator($list));
            } @else {
                $new-list: append($new-list, nth($list, $i), list-separator($list));
            }
        }
    }

    @return $new-list;
}